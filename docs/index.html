<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>p9</title><meta name="description" content="Documentation for p9"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">p9</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1> p9 </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#práctica-9---aplicación-de-procesamiento-de-notas-de-texto--" id="práctica-9---aplicación-de-procesamiento-de-notas-de-texto--" style="color: inherit; text-decoration: none;">
  <h1>Práctica 9 - Aplicación de procesamiento de notas de texto <a href="https://coveralls.io/github/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-alu0101105741?branch=main"><img src="https://coveralls.io/repos/github/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-alu0101105741/badge.svg?branch=main" alt="Coverage Status"></a> <a href="https://sonarcloud.io/summary/new_code?id=ULL-ESIT-INF-DSI-2122_ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-alu0101105741"><img src="https://sonarcloud.io/api/project_badges/measure?project=ULL-ESIT-INF-DSI-2122_ull-esit-inf-dsi-21-22-prct09-filesystem-notes-app-alu0101105741&metric=alert_status" alt="Quality Gate Status"></a></h1>
</a>
<p><strong>IMPORTANTE</strong>: Para el correcto funcionamiento de la aplicación es necesario crear el directorio ./users en la raíz de trabajo, ya que hemos añadido dicha carpeta en el gitignore para que no se vean las notas creadas en la máquina local (no es necesario si sólo vamos a ejecutar los test ya que está incluído un el proprio script). También tener en cuenta que se necesita una versión de node 14.X o superior para ejecutar el programa correctamente (una versión anterior no dejará eliminar notas ya que nos dirá que la función fm.rmSync no se trata de una función).</p>

<a href="#1-introducción" id="1-introducción" style="color: inherit; text-decoration: none;">
  <h2>1. Introducción</h2>
</a>
<p>En esta práctica llevaremos a cabo una aplicación de procesamiento de notas de texto, para ello utilizaremos varias herramientas como la <a href="https://nodejs.org/dist/latest-v15.x/docs/api/fs.html#fs_synchronous_api">API síncrona de Node</a> que no ayudará a manejar con el sistema de ficheros para almacenar, editar, mostrar, leer o eliminar notas. Además sólo podremos interactuar con la aplicación desde la línea de comandos usando el paquete <a href="https://www.npmjs.com/package/yargs">yargs</a> y se tendrá que mostrar las notas con su color correspondiente por la consola utilizando el paquete <a href="https://www.npmjs.com/package/chalk">chalk</a>, además tendremos que enviar mensajes informativos en verde y mensajes de error en rojo utilizando también dicho paquete.</p>

<a href="#2-objetivos" id="2-objetivos" style="color: inherit; text-decoration: none;">
  <h2>2. Objetivos</h2>
</a>
<p>Como hemos mencionado antes esta práctica tiene como objetivo realizar una aplicación de procesamiento de notas de texto que nos ayudará a familiarizarnos con la API síncrona de Node.js y los diferentes paquetes utilizados (yargs, chalk). Además tendremos que utilizar la herramienta de <a href="https://docs.github.com/en/actions">GitHub Actions</a> para realizar flujos de trabajo que lleven a cabo las pruebas en diferentes entornos con diferentes versiones de Node.js, enviar los datos de cubrimiento a <a href="https://coveralls.io/">Coveralls</a> y realizar un análisis de la calidad y seguridad de nuestro código fuente a través de <a href="https://sonarcloud.io/">Sonar Cloud</a>.</p>

<a href="#3-realización-de-la-práctica" id="3-realización-de-la-práctica" style="color: inherit; text-decoration: none;">
  <h2>3. Realización de la práctica</h2>
</a>
<p>La realización de esta práctica podemos separarla en 2 puntos claramente diferenciados:</p>
<ol>
<li>Realización de la aplicación</li>
<li>Realización de los flujos de trabajo para GitHub Actions</li>
</ol>

<a href="#31-realización-de-la-aplicación" id="31-realización-de-la-aplicación" style="color: inherit; text-decoration: none;">
  <h3>3.1. Realización de la aplicación</h3>
</a>
<p>Para realizar la aplicación lo primero que tenemos que saber son los requisitos que debe cumplir dicha aplicación, para ello leeremos la <a href="https://ull-esit-inf-dsi-2021.github.io/prct08-filesystem-notes-app/">descripción de la tarea</a> en la cual nos cuenta con más detalle dichos requisitos, pero resumidamente estos son:</p>
<ul>
<li>La aplicación nos permitirá que varios usuarios interactúen con ella, aunque no simultáneamente.</li>
<li>Una nota estará formada por un título, un cuerpo y un color (rojo, verde, azul o amarillo).</li>
<li>Cada usuario contará con su lista de notas en la cual podrá llevar a cabo estas operaciones:<ul>
<li>Añadir una nota a la lista, mostrando un mensaje informativo si se realiza correctamente o un mensaje de error si existe una nota con el mismo título.</li>
<li>Modificar una nota, modificaremos el cuerpo de una nota mostrando un mensaje informativo si se realiza correctamente o un mensaje de error si no existe una nota con el título especificado</li>
<li>Eliminar una nota, mostrando un mensaje informativo si se realiza correctamente o un mensaje de error si no existe la nota especificada.</li>
<li>Listar los títulos de las notas, deberán mostrarse con el color correspondiente.</li>
<li>Leer una nota de la lista, deberá mostrarse el título y el cuerpo en su color correspondiente o un mensade de error si no existe la nota especificada.</li>
<li>Editar el cuerpo de una nota, mostrando un mensaje informativo si se realiza correctamente o un mensaje de error si no existe la nota especificada.</li>
</ul>
</li>
<li>Un usuario solo puede interactuar con la aplicación de procesamiento de notas de texto a través de la línea de comandos. Los diferentes comandos, opciones de los mismos, así como manejadores asociados a cada uno de ellos deben gestionarse mediante el uso del paquete yargs.
Para ello guardaremos las notas de cada usuario en formato JSON en un directorio con su nombre dentro de un directorio general llamado &quot;users&quot;, haremos los cambios persistentes haciendo uso de la API síncrona y mostraremos los diferentes colores con el paquete chalk.</li>
</ul>

<a href="#311-clase-note" id="311-clase-note" style="color: inherit; text-decoration: none;">
  <h4>3.1.1. Clase Note</h4>
</a>
<p>Para realizar la aplicación hemos creado una clase Note en la que tendremos los datos de las notas y un método que pasa dichos datos a una string con formato JSON.</p>
<pre><code class="language-typescript"><span class="hl-0">/**</span><br/><span class="hl-0"> * Class Note that helps us to manage the creation of the json file</span><br/><span class="hl-0"> * and the management of the data</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">class</span><span class="hl-2"> </span><span class="hl-4">Note</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-3">protected</span><span class="hl-2"> </span><span class="hl-5">user</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">protected</span><span class="hl-2"> </span><span class="hl-5">title</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">protected</span><span class="hl-2"> </span><span class="hl-5">body</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">protected</span><span class="hl-2"> </span><span class="hl-5">color</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Constructor of Note class</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{string}</span><span class="hl-0"> </span><span class="hl-5">user</span><span class="hl-0"> Note user</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{string}</span><span class="hl-0"> </span><span class="hl-5">title</span><span class="hl-0"> Note title</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{string}</span><span class="hl-0"> </span><span class="hl-5">body</span><span class="hl-0"> Note body</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{string}</span><span class="hl-0"> </span><span class="hl-5">color</span><span class="hl-0"> Note color</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">constructor</span><span class="hl-2">(</span><span class="hl-5">user</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">, </span><span class="hl-5">title</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">, </span><span class="hl-5">body</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">, </span><span class="hl-5">color</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">user</span><span class="hl-2"> = </span><span class="hl-5">user</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2"> = </span><span class="hl-5">title</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">body</span><span class="hl-2"> = </span><span class="hl-5">body</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">color</span><span class="hl-2"> = </span><span class="hl-5">color</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Write method that allow us to write a json of our class</span><br/><span class="hl-0">   * </span><span class="hl-3">@return</span><span class="hl-0"> </span><span class="hl-4">{string}</span><span class="hl-0"> String in json format that allow us to</span><br/><span class="hl-0">   * convert it into a real json</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-6">write</span><span class="hl-2">(): </span><span class="hl-4">string</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">json</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2"> = </span><span class="hl-7">&#39;{</span><span class="hl-8">\n</span><span class="hl-7">&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-5">json</span><span class="hl-2"> = </span><span class="hl-5">json</span><span class="hl-2"> + </span><span class="hl-7">&#39;&quot;user&quot;: &quot;&#39;</span><span class="hl-2"> + </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">user</span><span class="hl-2"> + </span><span class="hl-7">&#39;&quot;,</span><span class="hl-8">\n</span><span class="hl-7">&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-5">json</span><span class="hl-2"> = </span><span class="hl-5">json</span><span class="hl-2"> + </span><span class="hl-7">&#39;&quot;title&quot;: &quot;&#39;</span><span class="hl-2"> + </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2"> + </span><span class="hl-7">&#39;&quot;,</span><span class="hl-8">\n</span><span class="hl-7">&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-5">json</span><span class="hl-2"> = </span><span class="hl-5">json</span><span class="hl-2"> + </span><span class="hl-7">&#39;&quot;body&quot;: &quot;&#39;</span><span class="hl-2"> + </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">body</span><span class="hl-2"> + </span><span class="hl-7">&#39;&quot;,</span><span class="hl-8">\n</span><span class="hl-7">&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-5">json</span><span class="hl-2"> = </span><span class="hl-5">json</span><span class="hl-2"> + </span><span class="hl-7">&#39;&quot;color&quot;: &quot;&#39;</span><span class="hl-2"> + </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">color</span><span class="hl-2"> + </span><span class="hl-7">&#39;&quot;</span><span class="hl-8">\n</span><span class="hl-7">&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-5">json</span><span class="hl-2"> = </span><span class="hl-5">json</span><span class="hl-2"> + </span><span class="hl-7">&#39;}</span><span class="hl-8">\n</span><span class="hl-7">&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">json</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/>
</code></pre>
<p>Como podemos ver en esta clase sólo cuenta con el constructor que inicializa los datos de la nota y una función write que nos facilita la creación de los JSON para almacenar las notas.</p>

<a href="#312-note-app" id="312-note-app" style="color: inherit; text-decoration: none;">
  <h4>3.1.2. Note-app</h4>
</a>
<p>Con nuestra clase Note hecha procederemos a realizar nuestra aplicación que nos ha quedado así:</p>
<pre><code class="language-typescript"><span class="hl-1">import</span><span class="hl-2"> </span><span class="hl-3">*</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-5">fs</span><span class="hl-2"> </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-7">&#39;fs&#39;</span><span class="hl-2">;</span><br/><span class="hl-1">import</span><span class="hl-2"> </span><span class="hl-3">*</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-5">chalk</span><span class="hl-2"> </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-7">&#39;chalk&#39;</span><span class="hl-2">;</span><br/><span class="hl-1">import</span><span class="hl-2"> </span><span class="hl-3">*</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-5">yargs</span><span class="hl-2"> </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-7">&#39;yargs&#39;</span><span class="hl-2">;</span><br/><span class="hl-1">import</span><span class="hl-2"> {</span><span class="hl-5">Note</span><span class="hl-2">} </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-7">&#39;./note&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Function that allow us to add a note</span><br/><span class="hl-0"> * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{yargs.ArgumentsCamelCase}</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0"> Argument received to add note</span><br/><span class="hl-0"> * </span><span class="hl-3">@return</span><span class="hl-0"> </span><span class="hl-4">{string}</span><span class="hl-0"> String that allow us to check if its working on tests</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">function</span><span class="hl-2"> </span><span class="hl-6">addFunction</span><span class="hl-2">(</span><span class="hl-5">argv</span><span class="hl-2">): </span><span class="hl-4">string</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">typeof</span><span class="hl-2"> </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2"> &amp;&amp; </span><span class="hl-3">typeof</span><span class="hl-2"> </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">user</span><span class="hl-2"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2"> &amp;&amp; </span><span class="hl-3">typeof</span><span class="hl-2"> </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">body</span><span class="hl-2"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2"> &amp;&amp; </span><span class="hl-3">typeof</span><span class="hl-2"> </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">color</span><span class="hl-2"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">filename</span><span class="hl-2"> = </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2">.</span><span class="hl-6">toLowerCase</span><span class="hl-2">().</span><span class="hl-6">replace</span><span class="hl-2">(</span><span class="hl-10">/</span><span class="hl-11">[</span><span class="hl-10"> </span><span class="hl-11">](</span><span class="hl-10">.</span><span class="hl-11">)</span><span class="hl-10">/</span><span class="hl-3">g</span><span class="hl-2">, (</span><span class="hl-5">_LowLine</span><span class="hl-2">, </span><span class="hl-5">chr</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">chr</span><span class="hl-2">.</span><span class="hl-6">toUpperCase</span><span class="hl-2">());</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">path</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2"> = </span><span class="hl-7">&#39;./users/&#39;</span><span class="hl-2"> + </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">user</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">notePath</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2"> = </span><span class="hl-5">path</span><span class="hl-2"> + </span><span class="hl-7">&#39;/&#39;</span><span class="hl-2"> + </span><span class="hl-5">filename</span><span class="hl-2"> + </span><span class="hl-7">&#39;.json&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">color</span><span class="hl-2"> == </span><span class="hl-7">&#39;red&#39;</span><span class="hl-2"> || </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">color</span><span class="hl-2"> == </span><span class="hl-7">&#39;green&#39;</span><span class="hl-2"> || </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">color</span><span class="hl-2"> == </span><span class="hl-7">&#39;blue&#39;</span><span class="hl-2"> || </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">color</span><span class="hl-2"> == </span><span class="hl-7">&#39;yellow&#39;</span><span class="hl-2"> ) {</span><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-5">fs</span><span class="hl-2">.</span><span class="hl-6">existsSync</span><span class="hl-2">(</span><span class="hl-5">path</span><span class="hl-2">)) {</span><br/><span class="hl-2">        </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-5">fs</span><span class="hl-2">.</span><span class="hl-6">existsSync</span><span class="hl-2">(</span><span class="hl-5">notePath</span><span class="hl-2">)) {</span><br/><span class="hl-2">          </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-6">red</span><span class="hl-2">(</span><span class="hl-7">&#39;Note title taken!&#39;</span><span class="hl-2">));</span><br/><span class="hl-2">          </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">&#39;Note title taken!&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">        } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">          </span><span class="hl-5">fs</span><span class="hl-2">.</span><span class="hl-6">appendFileSync</span><span class="hl-2">(</span><span class="hl-5">notePath</span><span class="hl-2">, </span><span class="hl-3">new</span><span class="hl-2"> </span><span class="hl-6">Note</span><span class="hl-2">(</span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">user</span><span class="hl-2">, </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2">, </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">body</span><span class="hl-2">, </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">color</span><span class="hl-2">).</span><span class="hl-6">write</span><span class="hl-2">());</span><br/><span class="hl-2">          </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-6">green</span><span class="hl-2">(</span><span class="hl-7">&#39;New note added!&#39;</span><span class="hl-2">));</span><br/><span class="hl-2">          </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">&#39;New note added!&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">      } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-5">fs</span><span class="hl-2">.</span><span class="hl-6">mkdirSync</span><span class="hl-2">(</span><span class="hl-5">path</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-5">fs</span><span class="hl-2">.</span><span class="hl-6">appendFileSync</span><span class="hl-2">(</span><span class="hl-5">notePath</span><span class="hl-2">, </span><span class="hl-3">new</span><span class="hl-2"> </span><span class="hl-6">Note</span><span class="hl-2">(</span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">user</span><span class="hl-2">, </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2">, </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">body</span><span class="hl-2">, </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">color</span><span class="hl-2">).</span><span class="hl-6">write</span><span class="hl-2">());</span><br/><span class="hl-2">        </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-6">green</span><span class="hl-2">(</span><span class="hl-7">&#39;New note added!&#39;</span><span class="hl-2">));</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">&#39;New note added!&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">    } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-6">red</span><span class="hl-2">(</span><span class="hl-7">&#39;The color is not valid!&#39;</span><span class="hl-2">));</span><br/><span class="hl-2">      </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">&#39;The color is not valid!&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * asd</span><br/><span class="hl-0"> * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{yargs.ArgumentsCamelCase}</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0"> asd</span><br/><span class="hl-0"> * </span><span class="hl-3">@return</span><span class="hl-0"> </span><span class="hl-4">{string}</span><span class="hl-0"> asd</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">function</span><span class="hl-2"> </span><span class="hl-6">listFunction</span><span class="hl-2">(</span><span class="hl-5">argv</span><span class="hl-2">): </span><span class="hl-4">string</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">typeof</span><span class="hl-2"> </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">user</span><span class="hl-2"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">path</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2"> = </span><span class="hl-7">&#39;./users/&#39;</span><span class="hl-2"> + </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">user</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-5">fs</span><span class="hl-2">.</span><span class="hl-6">existsSync</span><span class="hl-2">(</span><span class="hl-5">path</span><span class="hl-2">)) {</span><br/><span class="hl-2">      </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-7">&#39;Your notes&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">pointer</span><span class="hl-2"> = </span><span class="hl-5">fs</span><span class="hl-2">.</span><span class="hl-6">readdirSync</span><span class="hl-2">(</span><span class="hl-5">path</span><span class="hl-2">);</span><br/><span class="hl-2">      </span><span class="hl-5">pointer</span><span class="hl-2">.</span><span class="hl-6">forEach</span><span class="hl-2">((</span><span class="hl-5">filename</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">notePath</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2"> = </span><span class="hl-5">path</span><span class="hl-2"> + </span><span class="hl-7">&#39;/&#39;</span><span class="hl-2"> + </span><span class="hl-5">filename</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">data</span><span class="hl-2"> = </span><span class="hl-4">JSON</span><span class="hl-2">.</span><span class="hl-6">parse</span><span class="hl-2">(</span><span class="hl-5">fs</span><span class="hl-2">.</span><span class="hl-6">readFileSync</span><span class="hl-2">(</span><span class="hl-5">notePath</span><span class="hl-2">, </span><span class="hl-7">&#39;utf8&#39;</span><span class="hl-2">));</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">noteColour</span><span class="hl-2"> = </span><span class="hl-5">data</span><span class="hl-2">.</span><span class="hl-5">color</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-1">switch</span><span class="hl-2"> (</span><span class="hl-5">noteColour</span><span class="hl-2">) {</span><br/><span class="hl-2">          </span><span class="hl-1">case</span><span class="hl-2"> </span><span class="hl-7">&#39;red&#39;</span><span class="hl-2">: {</span><br/><span class="hl-2">            </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-5">red</span><span class="hl-2">.</span><span class="hl-6">inverse</span><span class="hl-2">(</span><span class="hl-5">data</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2">));</span><br/><span class="hl-2">            </span><span class="hl-1">break</span><span class="hl-2">;</span><br/><span class="hl-2">          }</span><br/><span class="hl-2">          </span><span class="hl-1">case</span><span class="hl-2"> </span><span class="hl-7">&#39;green&#39;</span><span class="hl-2">: {</span><br/><span class="hl-2">            </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-5">green</span><span class="hl-2">.</span><span class="hl-6">inverse</span><span class="hl-2">(</span><span class="hl-5">data</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2">));</span><br/><span class="hl-2">            </span><span class="hl-1">break</span><span class="hl-2">;</span><br/><span class="hl-2">          }</span><br/><span class="hl-2">          </span><span class="hl-1">case</span><span class="hl-2"> </span><span class="hl-7">&#39;blue&#39;</span><span class="hl-2">: {</span><br/><span class="hl-2">            </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-5">blue</span><span class="hl-2">.</span><span class="hl-6">inverse</span><span class="hl-2">(</span><span class="hl-5">data</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2">));</span><br/><span class="hl-2">            </span><span class="hl-1">break</span><span class="hl-2">;</span><br/><span class="hl-2">          }</span><br/><span class="hl-2">          </span><span class="hl-1">case</span><span class="hl-2"> </span><span class="hl-7">&#39;yellow&#39;</span><span class="hl-2">: {</span><br/><span class="hl-2">            </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-5">yellow</span><span class="hl-2">.</span><span class="hl-6">inverse</span><span class="hl-2">(</span><span class="hl-5">data</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2">));</span><br/><span class="hl-2">            </span><span class="hl-1">break</span><span class="hl-2">;</span><br/><span class="hl-2">          }</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">      });</span><br/><span class="hl-2">      </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">&#39;Notes listed!&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-6">red</span><span class="hl-2">(</span><span class="hl-7">&#39;The user dont have any notes in this system&#39;</span><span class="hl-2">));</span><br/><span class="hl-2">      </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">&#39;The user dont have any notes in this system&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-0">// eslint-disable-next-line block-spacing</span><br/><span class="hl-2">    </span><span class="hl-0">// eslint-disable-next-line brace-style</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * asd</span><br/><span class="hl-0"> * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{yargs.ArgumentsCamelCase}</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0"> asd</span><br/><span class="hl-0"> * </span><span class="hl-3">@return</span><span class="hl-0"> </span><span class="hl-4">{string}</span><span class="hl-0"> asd</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">function</span><span class="hl-2"> </span><span class="hl-6">readFunction</span><span class="hl-2">(</span><span class="hl-5">argv</span><span class="hl-2">): </span><span class="hl-4">string</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">typeof</span><span class="hl-2"> </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">user</span><span class="hl-2"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">typeof</span><span class="hl-2"> </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">path</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2"> = </span><span class="hl-7">&#39;./users/&#39;</span><span class="hl-2"> + </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">user</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">title</span><span class="hl-2"> = </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2">.</span><span class="hl-6">toLowerCase</span><span class="hl-2">().</span><span class="hl-6">replace</span><span class="hl-2">(</span><span class="hl-10">/</span><span class="hl-11">[</span><span class="hl-10"> </span><span class="hl-11">](</span><span class="hl-10">.</span><span class="hl-11">)</span><span class="hl-10">/</span><span class="hl-3">g</span><span class="hl-2">, (</span><span class="hl-5">_LowLine</span><span class="hl-2">, </span><span class="hl-5">chr</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">chr</span><span class="hl-2">.</span><span class="hl-6">toUpperCase</span><span class="hl-2">());</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">notePath</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2"> = </span><span class="hl-5">path</span><span class="hl-2"> + </span><span class="hl-7">&#39;/&#39;</span><span class="hl-2"> + </span><span class="hl-5">title</span><span class="hl-2"> + </span><span class="hl-7">&#39;.json&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-5">fs</span><span class="hl-2">.</span><span class="hl-6">existsSync</span><span class="hl-2">(</span><span class="hl-5">notePath</span><span class="hl-2">)) {</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">data</span><span class="hl-2"> = </span><span class="hl-4">JSON</span><span class="hl-2">.</span><span class="hl-6">parse</span><span class="hl-2">(</span><span class="hl-5">fs</span><span class="hl-2">.</span><span class="hl-6">readFileSync</span><span class="hl-2">(</span><span class="hl-5">notePath</span><span class="hl-2">, </span><span class="hl-7">&#39;utf8&#39;</span><span class="hl-2">));</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">noteColour</span><span class="hl-2"> = </span><span class="hl-5">data</span><span class="hl-2">.</span><span class="hl-5">color</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-1">switch</span><span class="hl-2"> (</span><span class="hl-5">noteColour</span><span class="hl-2">) {</span><br/><span class="hl-2">          </span><span class="hl-1">case</span><span class="hl-2"> </span><span class="hl-7">&#39;red&#39;</span><span class="hl-2">: {</span><br/><span class="hl-2">            </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-5">red</span><span class="hl-2">.</span><span class="hl-6">inverse</span><span class="hl-2">(</span><span class="hl-5">data</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2">));</span><br/><span class="hl-2">            </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-5">red</span><span class="hl-2">.</span><span class="hl-6">inverse</span><span class="hl-2">(</span><span class="hl-5">data</span><span class="hl-2">.</span><span class="hl-5">body</span><span class="hl-2">));</span><br/><span class="hl-2">            </span><span class="hl-1">break</span><span class="hl-2">;</span><br/><span class="hl-2">          }</span><br/><span class="hl-2">          </span><span class="hl-1">case</span><span class="hl-2"> </span><span class="hl-7">&#39;green&#39;</span><span class="hl-2">: {</span><br/><span class="hl-2">            </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-5">green</span><span class="hl-2">.</span><span class="hl-6">inverse</span><span class="hl-2">(</span><span class="hl-5">data</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2">));</span><br/><span class="hl-2">            </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-5">green</span><span class="hl-2">.</span><span class="hl-6">inverse</span><span class="hl-2">(</span><span class="hl-5">data</span><span class="hl-2">.</span><span class="hl-5">body</span><span class="hl-2">));</span><br/><span class="hl-2">            </span><span class="hl-1">break</span><span class="hl-2">;</span><br/><span class="hl-2">          }</span><br/><span class="hl-2">          </span><span class="hl-1">case</span><span class="hl-2"> </span><span class="hl-7">&#39;blue&#39;</span><span class="hl-2">: {</span><br/><span class="hl-2">            </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-5">blue</span><span class="hl-2">.</span><span class="hl-6">inverse</span><span class="hl-2">(</span><span class="hl-5">data</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2">));</span><br/><span class="hl-2">            </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-5">blue</span><span class="hl-2">.</span><span class="hl-6">inverse</span><span class="hl-2">(</span><span class="hl-5">data</span><span class="hl-2">.</span><span class="hl-5">body</span><span class="hl-2">));</span><br/><span class="hl-2">            </span><span class="hl-1">break</span><span class="hl-2">;</span><br/><span class="hl-2">          }</span><br/><span class="hl-2">          </span><span class="hl-1">case</span><span class="hl-2"> </span><span class="hl-7">&#39;yellow&#39;</span><span class="hl-2">: {</span><br/><span class="hl-2">            </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-5">yellow</span><span class="hl-2">.</span><span class="hl-6">inverse</span><span class="hl-2">(</span><span class="hl-5">data</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2">));</span><br/><span class="hl-2">            </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-5">yellow</span><span class="hl-2">.</span><span class="hl-6">inverse</span><span class="hl-2">(</span><span class="hl-5">data</span><span class="hl-2">.</span><span class="hl-5">body</span><span class="hl-2">));</span><br/><span class="hl-2">            </span><span class="hl-1">break</span><span class="hl-2">;</span><br/><span class="hl-2">          }</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">&#39;Note readed!&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">      } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-6">red</span><span class="hl-2">(</span><span class="hl-7">&#39;Note not found&#39;</span><span class="hl-2">));</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">&#39;Note not found&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * asd</span><br/><span class="hl-0"> * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{yargs.ArgumentsCamelCase}</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0"> asd</span><br/><span class="hl-0"> * </span><span class="hl-3">@return</span><span class="hl-0"> </span><span class="hl-4">{string}</span><span class="hl-0"> asd</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">function</span><span class="hl-2"> </span><span class="hl-6">removeFunction</span><span class="hl-2">(</span><span class="hl-5">argv</span><span class="hl-2">): </span><span class="hl-4">string</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">typeof</span><span class="hl-2"> </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">user</span><span class="hl-2"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">typeof</span><span class="hl-2"> </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">path</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2"> = </span><span class="hl-7">&#39;./users/&#39;</span><span class="hl-2"> + </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">user</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">title</span><span class="hl-2"> = </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2">.</span><span class="hl-6">toLowerCase</span><span class="hl-2">().</span><span class="hl-6">replace</span><span class="hl-2">(</span><span class="hl-10">/</span><span class="hl-11">[</span><span class="hl-10"> </span><span class="hl-11">](</span><span class="hl-10">.</span><span class="hl-11">)</span><span class="hl-10">/</span><span class="hl-3">g</span><span class="hl-2">, (</span><span class="hl-5">_LowLine</span><span class="hl-2">, </span><span class="hl-5">chr</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">chr</span><span class="hl-2">.</span><span class="hl-6">toUpperCase</span><span class="hl-2">());</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">notePath</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2"> = </span><span class="hl-5">path</span><span class="hl-2"> + </span><span class="hl-7">&#39;/&#39;</span><span class="hl-2"> + </span><span class="hl-5">title</span><span class="hl-2"> + </span><span class="hl-7">&#39;.json&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-5">fs</span><span class="hl-2">.</span><span class="hl-6">existsSync</span><span class="hl-2">(</span><span class="hl-5">notePath</span><span class="hl-2">)) {</span><br/><span class="hl-2">        </span><span class="hl-5">fs</span><span class="hl-2">.</span><span class="hl-6">rmSync</span><span class="hl-2">(</span><span class="hl-5">notePath</span><span class="hl-2">, {</span><br/><span class="hl-2">          </span><span class="hl-5">recursive:</span><span class="hl-2"> </span><span class="hl-3">true</span><span class="hl-2">,</span><br/><span class="hl-2">        });</span><br/><span class="hl-2">        </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-6">green</span><span class="hl-2">(</span><span class="hl-7">&#39;Note removed!&#39;</span><span class="hl-2">));</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">&#39;Note removed!&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">      } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-6">red</span><span class="hl-2">(</span><span class="hl-7">&#39;No note found&#39;</span><span class="hl-2">));</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">&#39;No note found&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * asd</span><br/><span class="hl-0"> * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-4">{yargs.ArgumentsCamelCase}</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0"> sad</span><br/><span class="hl-0"> * </span><span class="hl-3">@return</span><span class="hl-0"> </span><span class="hl-4">{string}</span><span class="hl-0"> asd</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">function</span><span class="hl-2"> </span><span class="hl-6">editFunction</span><span class="hl-2">(</span><span class="hl-5">argv</span><span class="hl-2">): </span><span class="hl-4">string</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">typeof</span><span class="hl-2"> </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">user</span><span class="hl-2"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">typeof</span><span class="hl-2"> </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">typeof</span><span class="hl-2"> </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">body</span><span class="hl-2"> === </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">path</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2"> = </span><span class="hl-7">&#39;./users/&#39;</span><span class="hl-2"> + </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">user</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">title</span><span class="hl-2"> = </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2">.</span><span class="hl-6">toLowerCase</span><span class="hl-2">().</span><span class="hl-6">replace</span><span class="hl-2">(</span><span class="hl-10">/</span><span class="hl-11">[</span><span class="hl-10"> </span><span class="hl-11">](</span><span class="hl-10">.</span><span class="hl-11">)</span><span class="hl-10">/</span><span class="hl-3">g</span><span class="hl-2">, (</span><span class="hl-5">_LowLine</span><span class="hl-2">, </span><span class="hl-5">chr</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> </span><span class="hl-5">chr</span><span class="hl-2">.</span><span class="hl-6">toUpperCase</span><span class="hl-2">());</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">notePath</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2"> = </span><span class="hl-5">path</span><span class="hl-2"> + </span><span class="hl-7">&#39;/&#39;</span><span class="hl-2"> + </span><span class="hl-5">title</span><span class="hl-2"> + </span><span class="hl-7">&#39;.json&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">        </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-5">fs</span><span class="hl-2">.</span><span class="hl-6">existsSync</span><span class="hl-2">(</span><span class="hl-5">notePath</span><span class="hl-2">)) {</span><br/><span class="hl-2">          </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-9">data</span><span class="hl-2"> = </span><span class="hl-4">JSON</span><span class="hl-2">.</span><span class="hl-6">parse</span><span class="hl-2">(</span><span class="hl-5">fs</span><span class="hl-2">.</span><span class="hl-6">readFileSync</span><span class="hl-2">(</span><span class="hl-5">notePath</span><span class="hl-2">, </span><span class="hl-7">&#39;utf8&#39;</span><span class="hl-2">));</span><br/><span class="hl-2">          </span><span class="hl-5">fs</span><span class="hl-2">.</span><span class="hl-6">writeFileSync</span><span class="hl-2">(</span><span class="hl-5">notePath</span><span class="hl-2">, </span><span class="hl-3">new</span><span class="hl-2"> </span><span class="hl-6">Note</span><span class="hl-2">(</span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">user</span><span class="hl-2">, </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">title</span><span class="hl-2">, </span><span class="hl-5">argv</span><span class="hl-2">.</span><span class="hl-5">body</span><span class="hl-2">, </span><span class="hl-5">data</span><span class="hl-2">.</span><span class="hl-5">color</span><span class="hl-2">).</span><span class="hl-6">write</span><span class="hl-2">());</span><br/><span class="hl-2">          </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-6">green</span><span class="hl-2">(</span><span class="hl-7">&#39;Note edited!&#39;</span><span class="hl-2">));</span><br/><span class="hl-2">          </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">&#39;Note edited!&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">        } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">          </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-5">chalk</span><span class="hl-2">.</span><span class="hl-6">red</span><span class="hl-2">(</span><span class="hl-7">&#39;Note not found&#39;</span><span class="hl-2">));</span><br/><span class="hl-2">          </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">&#39;Note not found&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Add command that allow us to add a note from a user</span><br/><span class="hl-0"> * into his directory of notes</span><br/><span class="hl-0"> */</span><br/><span class="hl-5">yargs</span><span class="hl-2">.</span><span class="hl-6">command</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-5">command:</span><span class="hl-2"> </span><span class="hl-7">&#39;add&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">describe:</span><span class="hl-2"> </span><span class="hl-7">&#39;Add a new note&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">builder:</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-5">title:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-5">describe:</span><span class="hl-2"> </span><span class="hl-7">&#39;Note title&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">demandOption:</span><span class="hl-2"> </span><span class="hl-3">true</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-5">user:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-5">describe:</span><span class="hl-2"> </span><span class="hl-7">&#39;Note user&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">demandOption:</span><span class="hl-2"> </span><span class="hl-3">true</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-5">body:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-5">describe:</span><span class="hl-2"> </span><span class="hl-7">&#39;Note body&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">demandOption:</span><span class="hl-2"> </span><span class="hl-3">true</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-5">color:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-5">describe:</span><span class="hl-2"> </span><span class="hl-7">&#39;Note color&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">demandOption:</span><span class="hl-2"> </span><span class="hl-3">true</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">  },</span><br/><span class="hl-2">  </span><span class="hl-6">handler</span><span class="hl-2">(</span><span class="hl-5">argv</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-6">addFunction</span><span class="hl-2">(</span><span class="hl-5">argv</span><span class="hl-2">);</span><br/><span class="hl-2">  },</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * List command that allow us to list</span><br/><span class="hl-0"> * all the notes from a specified user</span><br/><span class="hl-0"> */</span><br/><span class="hl-5">yargs</span><span class="hl-2">.</span><span class="hl-6">command</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-5">command:</span><span class="hl-2"> </span><span class="hl-7">&#39;list&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">describe:</span><span class="hl-2"> </span><span class="hl-7">&#39;List all the notes from a specific user&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">builder:</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-5">user:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-5">describe:</span><span class="hl-2"> </span><span class="hl-7">&#39;Note user&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">demandOption:</span><span class="hl-2"> </span><span class="hl-3">true</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">  },</span><br/><span class="hl-2">  </span><span class="hl-6">handler</span><span class="hl-2">(</span><span class="hl-5">argv</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-6">listFunction</span><span class="hl-2">(</span><span class="hl-5">argv</span><span class="hl-2">);</span><br/><span class="hl-2">  }, </span><span class="hl-0">// Prevent duplicated lines</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Read command that allow us to read</span><br/><span class="hl-0"> * a specified note from a user</span><br/><span class="hl-0"> */</span><br/><span class="hl-5">yargs</span><span class="hl-2">.</span><span class="hl-6">command</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-5">command:</span><span class="hl-2"> </span><span class="hl-7">&#39;read&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">describe:</span><span class="hl-2"> </span><span class="hl-7">&#39;Read a note&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">builder:</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-5">user:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-5">describe:</span><span class="hl-2"> </span><span class="hl-7">&#39;Note user&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">demandOption:</span><span class="hl-2"> </span><span class="hl-3">true</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-5">title:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-5">describe:</span><span class="hl-2"> </span><span class="hl-7">&#39;Note title&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">demandOption:</span><span class="hl-2"> </span><span class="hl-3">true</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">  },</span><br/><span class="hl-2">  </span><span class="hl-6">handler</span><span class="hl-2">(</span><span class="hl-5">argv</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-6">readFunction</span><span class="hl-2">(</span><span class="hl-5">argv</span><span class="hl-2">);</span><br/><span class="hl-2">  },</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Remove command that allow us</span><br/><span class="hl-0"> * to remove a specified note from a user</span><br/><span class="hl-0"> */</span><br/><span class="hl-5">yargs</span><span class="hl-2">.</span><span class="hl-6">command</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-5">command:</span><span class="hl-2"> </span><span class="hl-7">&#39;remove&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">describe:</span><span class="hl-2"> </span><span class="hl-7">&#39;Remove a note&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">builder:</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-5">user:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-5">describe:</span><span class="hl-2"> </span><span class="hl-7">&#39;Note user&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">demandOption:</span><span class="hl-2"> </span><span class="hl-3">true</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-5">title:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-5">describe:</span><span class="hl-2"> </span><span class="hl-7">&#39;Note title&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">demandOption:</span><span class="hl-2"> </span><span class="hl-3">true</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">  },</span><br/><span class="hl-2">  </span><span class="hl-6">handler</span><span class="hl-2">(</span><span class="hl-5">argv</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-6">removeFunction</span><span class="hl-2">(</span><span class="hl-5">argv</span><span class="hl-2">);</span><br/><span class="hl-2">  },</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Edit command that allow us to</span><br/><span class="hl-0"> * edit the body of a existing note</span><br/><span class="hl-0"> */</span><br/><span class="hl-5">yargs</span><span class="hl-2">.</span><span class="hl-6">command</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-5">command:</span><span class="hl-2"> </span><span class="hl-7">&#39;edit&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">describe:</span><span class="hl-2"> </span><span class="hl-7">&#39;Edit a note&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">builder:</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-5">user:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-5">describe:</span><span class="hl-2"> </span><span class="hl-7">&#39;Note user&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">demandOption:</span><span class="hl-2"> </span><span class="hl-3">true</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-5">title:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-5">describe:</span><span class="hl-2"> </span><span class="hl-7">&#39;Note title&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">demandOption:</span><span class="hl-2"> </span><span class="hl-3">true</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-5">body:</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-5">describe:</span><span class="hl-2"> </span><span class="hl-7">&#39;Note title&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">demandOption:</span><span class="hl-2"> </span><span class="hl-3">true</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-7">&#39;string&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">  },</span><br/><span class="hl-2">  </span><span class="hl-6">handler</span><span class="hl-2">(</span><span class="hl-5">argv</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-6">editFunction</span><span class="hl-2">(</span><span class="hl-5">argv</span><span class="hl-2">);</span><br/><span class="hl-2">  },</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Parse function that allow the</span><br/><span class="hl-0"> * program works correctly from</span><br/><span class="hl-0"> * the command line</span><br/><span class="hl-0"> */</span><br/><span class="hl-5">yargs</span><span class="hl-2">.</span><span class="hl-6">parse</span><span class="hl-2">();</span><br/>
</code></pre>
<p>En este caso podemos ver como hemos creado cada comando necesario para la aplicación con la función yargs.command(), en la que especificamos el nombre del comando, los diferentes parámetros con los que cuenta dicho comando y por último el funcionamiento de dicho comando. Hemos separado las funciones que utilizamos en nuestro programa principal para poder comprobar su correcto funcionamiento en los test, devolviendo strings que no son necesarias en dicho programa pero nos ayudan a saber si la función se está comportando como esperamos en los test. Podemos ver cómo el funcionamiento de dichas funciones es bastante sencillo y general, lo primero que hacemos siempre es mirar si el tipo de datos pasado por argumento es el correcto, luego comprobamos si existe el path de la nota en la que queramos operar y dependiendo de la operación, crearemos, editaremos o eliminaremos dicha nota, dónde único cambia este procedimiento (aunque no difiere en mucho) es a la hora de listar las notas ya que en vez de operar sobre una misma solo necesitamos el nombre del usuario que queremos listar, es decir, comprobamos que el tipo de dato es el correcto, que exista dicho usuario y si existe listamos sus notas.</p>

<a href="#32-flujos-de-trabajo" id="32-flujos-de-trabajo" style="color: inherit; text-decoration: none;">
  <h4>3.2. Flujos de trabajo</h4>
</a>
<p>Por último realizaremos los flujos de trabajo correspondientes para que con cada push se realicen las pruebas del código, se envien los datos de cubrimiento a Coveralls y se realice un análisis de calidad y seguridad de nuestro código fuente a través de Sonar Cloud, para ello crearemos 3 ficheros dentro del directorio .github/workflows llamados <code>sonarcloud.yml, coveralls.yml y node.js.yml</code>, en estos ficheros encontraremos los iguiente:</p>
<ul>
<li>sonarcloud.yml</li>
</ul>
<pre><code class="language-yml">name: Sonar-Cloud

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  sonarcloud:
    name: SonarCloud
    runs-on: ubuntu-latest
    steps:
      - name: Cloning repo
        uses: actions/checkout@v2
        with:
          fetch-depth: 0  # Shallow clones should be disabled for a better relevancy of analysis
      - name: Use Node.js 15.x
        uses: actions/setup-node@v1
        with:
          node-version: 15.x
      - name: Installing dependencies
        run: npm install
      - name: Generating coverage information
        run: npm run coverage
      - name: SonarCloud Scan
        uses: SonarSource/sonarcloud-github-action@master
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}  # Needed to get PR information, if any
          SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
</code></pre>
<ul>
<li>coveralls.yml</li>
</ul>
<pre><code class="language-yml">name: Coveralls

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  coveralls:

    runs-on: ubuntu-latest

    steps:
    - name: Cloning repo
      uses: actions/checkout@v2
    - name: Use Node.js 16.x
      uses: actions/setup-node@v2
      with:
        node-version: 16.x
    - name: Installing dependencies
      run: npm install
    - name: Generating coverage information
      run: npm run coverage
    - name: Coveralls GitHub Action
      uses: coverallsapp/github-action@master
      with:
        github-token: ${{ secrets.GITHUB_TOKEN }}
</code></pre>
<ul>
<li>node.js.yml</li>
</ul>
<pre><code class="language-yml">name: Tests

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:

    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [14.x, 16.x]
        # See supported Node.js release schedule at https://nodejs.org/en/about/releases/

    steps:
    - uses: actions/checkout@v2
    - name: Use Node.js ${{ matrix.node-version }}
      uses: actions/setup-node@v2
      with:
        node-version: ${{ matrix.node-version }}
    - run: npm install
    - run: npm test
</code></pre>
<p>Como podemos ver, en el primer fichero contiene el archivo que nos facilita Sonar Cloud, para que esto funcione, también tendremos que crear el fichero <code>sonar-project.properties</code> el cuál también nos lo facilita Sonar Cloud y lo guardaremos en la raíz del proyecto, con esto tendremos nuestro repo listo para que Sonar Cloud pueda analizar nuestro código. En el siguiente fichero podemos ver como le decimos que use un entorno en ubuntu y haciendo uso de Node.js, le especificamos la versión de node que queremos que se use y le decimos que se instalen las dependencias necesarias para despues realizar nuestro script de npm test y coverage para subir los datos de cubrimiento a Coveralls (hemos tenido que hacer el repo público para que no exista ningún problema con esto y poder añadir el repo en coveralls). Por último en el último fichero vemos como a parte de decirle que queremos que nuestro espacio de trabajo sea en ubuntu definimos una matriz con las versiones de node que queremos que ejecuten los diferentes test, con esto hecho haremos lo mismo que en el fichero anterior pero diciendo que queremos que use las versiones de Node.js especificadas en dicha matriz para luego ejecutar nuestros test.</p>

<a href="#4-conclusiones" id="4-conclusiones" style="color: inherit; text-decoration: none;">
  <h2>4. Conclusiones</h2>
</a>
<p>Esta ha sido una práctica muy entretenida y que me ha ayudado a familiarizarme bastante con la API síncrona de Node.js y tambíen a otros paquetes como son chalk o yargs. También me ha ayudado para familiarizarme un poco más con las plataformas Coveralls y Sonar Cloud y así poder entender un poco mejor su funcionamiento. Por último, he de destacar que en un principio no iba a hacer que las funciones devolviesen ningún tipo de dato ya que no es necesario para el funcionamiento del programa, pero como no se me ocurría ningún método para comprobar en los test que todo funcionase correctamente he optado por devolver cadenas que nos dicen cómo se ha comportado cada función, la primera idea para esto era intentar comprobar que se ejecutaban el número correcto de console.log() pero ésto me dio bastantes problemas a la hora de comprobar el comportamiento por lo que he decidido realizar ésta versión.</p>
<p><strong>IMPORTANTE</strong>: Para el correcto funcionamiento de la aplicación es necesario crear el directorio ./users en la raíz de trabajo, ya que hemos añadido dicha carpeta en el gitignore para que no se vean las notas creadas en la máquina local (no es necesario si sólo vamos a ejecutar los test ya que está incluído un el proprio script)  (una versión anterior no dejará eliminar notas ya que nos dirá que la función fm.rmSync no se trata de una función).</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="modules/note.html">note</a></li><li class=" tsd-kind-module"><a href="modules/note_app.html">note-<wbr/>app</a></li><li class=" tsd-kind-module"><a href="modules/templateMethod_Reduce.html">template<wbr/>Method/<wbr/>Reduce</a></li><li class=" tsd-kind-module"><a href="modules/templateMethod_addReduce.html">template<wbr/>Method/add<wbr/>Reduce</a></li><li class=" tsd-kind-module"><a href="modules/templateMethod_prodReduce.html">template<wbr/>Method/prod<wbr/>Reduce</a></li><li class=" tsd-kind-module"><a href="modules/templateMethod_subReduce.html">template<wbr/>Method/sub<wbr/>Reduce</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>